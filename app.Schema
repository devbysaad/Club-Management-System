FOOTBALL ACADEMY MANAGEMENT SYSTEM - DATABASE SCHEMA

This is a Football Academy app called "Pato Hornets". The frontend is built with Next.js 14. Below is the database structure needed for the backend.


ENTITIES AND RELATIONSHIPS
===========================

1. USER
   - id, email, password, role (ADMIN/COACH/STUDENT/PARENT)
   - Each user has one of the four roles
   - Used for authentication and login

2. ADMIN
   - id, userId, firstName, lastName, phone, photo
   - Full access to manage everything in the system

3. COACH
   - id, coachId (display ID like COACH-001), userId
   - firstName, lastName, email, phone, photo, address
   - specialization (array of skills like Goalkeeping, Fitness, Tactics)
   - One coach can train MULTIPLE age groups
   - One coach can have MULTIPLE training sessions

4. AGE GROUP (shown as "Teams" or "Classes" in frontend)
   - id, name (U-8, U-10, U-12, U-14, U-17, Senior)
   - minAge, maxAge, capacity, description
   - One age group has MULTIPLE students
   - One age group has MULTIPLE training sessions
   - One age group can have MULTIPLE coaches

5. STUDENT (shown as "Players" in frontend)
   - id, studentId (display ID like PLR-001), userId
   - firstName, lastName, email, phone, photo, dateOfBirth, address
   - position (GOALKEEPER/DEFENDER/MIDFIELDER/FORWARD), jerseyNumber
   - Each student belongs to ONE age group
   - Each student has ONE parent (optional)
   - Each student has MULTIPLE attendance records
   - Each student has MULTIPLE results

6. PARENT
   - id, userId, firstName, lastName, email, phone, address
   - One parent can have MULTIPLE children (students)

7. TRAINING SESSION (shown as "Lessons" in frontend)
   - id, title, description
   - date, startTime, endTime, dayOfWeek, venue
   - type (TRAINING/MATCH/FRIENDLY/TOURNAMENT/FITNESS/RECOVERY)
   - Each session is led by ONE coach
   - Each session is for ONE age group
   - Each session has MULTIPLE attendance records

8. ATTENDANCE
   - id, studentId, trainingSessionId
   - status (PRESENT/ABSENT/LATE/EXCUSED)
   - notes, markedAt, markedBy (coach who marked)
   - Links a student to a training session
   - One record per student per session

9. FIXTURE (shown as "Exams" or "Matches" in frontend)
   - id, title, opponent, date, time, venue, isHome
   - type (LEAGUE/CUP/FRIENDLY/TOURNAMENT)
   - isCompleted, goalsFor, goalsAgainst
   - Each fixture is for ONE age group
   - Each fixture has MULTIPLE results (one per player)

10. RESULT (individual player performance per match)
    - id, studentId, fixtureId
    - goals, assists, rating, minutesPlayed
    - yellowCards, redCards, notes
    - One result per student per fixture

11. EVENT
    - id, title, description, date, startTime, endTime, venue
    - type (TOURNAMENT/CELEBRATION/MEETING/TRIAL/FUNDRAISER/OTHER)

12. ANNOUNCEMENT (shown as "News" in frontend)
    - id, title, content, priority
    - targetRoles (which roles can see it)
    - publishedAt, expiresAt


RELATIONSHIP SUMMARY
====================

USER (1) -----> (1) ADMIN/COACH/STUDENT/PARENT

COACH (1) -----> (many) AGE GROUPS (many-to-many)
COACH (1) -----> (many) TRAINING SESSIONS

AGE GROUP (1) -----> (many) STUDENTS
AGE GROUP (1) -----> (many) TRAINING SESSIONS
AGE GROUP (1) -----> (many) FIXTURES

PARENT (1) -----> (many) STUDENTS (children)

STUDENT (many) -----> (1) AGE GROUP
STUDENT (many) -----> (1) PARENT
STUDENT (1) -----> (many) ATTENDANCE RECORDS
STUDENT (1) -----> (many) RESULTS

TRAINING SESSION (many) -----> (1) COACH
TRAINING SESSION (many) -----> (1) AGE GROUP
TRAINING SESSION (1) -----> (many) ATTENDANCE RECORDS

ATTENDANCE (many) -----> (1) STUDENT
ATTENDANCE (many) -----> (1) TRAINING SESSION

FIXTURE (many) -----> (1) AGE GROUP
FIXTURE (1) -----> (many) RESULTS

RESULT (many) -----> (1) STUDENT
RESULT (many) -----> (1) FIXTURE


FRONTEND PAGES TO DATABASE MAPPING
==================================

/admin (Dashboard) --> User stats, counts from all tables
/list/teachers (Coaches) --> Coach table
/list/students (Players) --> Student table
/list/parents --> Parent table
/list/classes (Teams) --> AgeGroup table
/list/subjects (Training Programs) --> TrainingProgram table
/list/lessons (Sessions) --> TrainingSession table
/list/exams (Fixtures) --> Fixture table
/list/assignments (Stats) --> Result table (aggregated)
/list/results --> Result table
/list/events --> Event table
/list/announcements (News) --> Announcement table


ATTENDANCE SYSTEM FLOW
======================

1. Admin or Coach creates a Training Session for a specific Age Group
2. Training Session is scheduled for a specific date and time
3. On the training day, Coach opens the session and sees all students in that Age Group
4. Coach marks each student as PRESENT, ABSENT, LATE, or EXCUSED
5. Optionally adds notes for any student
6. Attendance is saved with the coach who marked it and timestamp
7. Parents can view their children's attendance history
8. Admin can generate attendance reports


USER ROLES AND ACCESS
=====================

ADMIN: Full access to everything - create, read, update, delete all data
COACH: View assigned students, manage training sessions, mark attendance, view fixtures
PARENT: View their children's profiles, attendance, results, and schedule
STUDENT: View their own profile, attendance, results, and training schedule






schema
<div>



<div/>